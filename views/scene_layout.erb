<html>
  <head>
    <style>
      html, body {
        width:  100%;
        height: 100%;
        margin: 0;
      }

      #controls {
        position: absolute;
        top: 10;
        left: 10;
        z-index: 1;
      }

      .linkForm {
        display: none;
      }

      .textForm {
        display: none;
      }

      .audioForm {
        display: none;
      }

      .downloadForm {
        display: none;
      }

      #shapeEditor {
        background-color: lightgrey;
      }

      #controls button, #shapeEditor button, #shapeEditor label,
      #shapeEditor input, .linkForm input, .linkForm textarea,
      #uploadForm input, .textForm textarea {
        display: block;
      }

      .stripey {
        padding: 10px;
        border-radius: 5px;
        background: repeating-linear-gradient(45deg,#606dbc,#606dbc 10px,#465298 10px,#465298 20px);
        display: flex;
        justify-content: center;
        align-items: center;
      }
    </style>

    <link rel="manifest" href="/site.webmanifest" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="mask-icon" href="/favicon.ico" color="#000000">

    <script type="text/javascript">
      const SCENE_ID = "<%= @scene.id %>";
      const USER_ID = "<%= current_user ? current_user.id : nil %>";
      const CHARACTER_ID = "<%= current_user && current_user.character ? current_user.character.id.to_s : nil %>";
      const AUTH_TOKEN = "<%= env['rack.session'][:csrf] %>";
      let CAN_EDIT = false;
    </script>
  </head>
  <body>
    <% if current_user %>
      <div style="position: absolute; top: 0; right: 0; background-color: lightgray;">
        <p>signed in as: <%= current_user.name %>&nbsp;&nbsp;&nbsp;&nbsp;<a href="/signout">sign out</a></p> 
      </div>
    <% else %>
      <div style="position: absolute; top: 0; right: 0; background-color: lightgray;">
        <p><a href="/signin">sign in</a></p>
      </div>
    <% end %>
    <%= yield %>
  </body>
</html>
